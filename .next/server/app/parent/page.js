(()=>{var e={};e.id=771,e.ids=[771],e.modules={47849:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external")},72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},83122:e=>{"use strict";e.exports=require("undici")},39491:e=>{"use strict";e.exports=require("assert")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},9523:e=>{"use strict";e.exports=require("dns")},82361:e=>{"use strict";e.exports=require("events")},57147:e=>{"use strict";e.exports=require("fs")},13685:e=>{"use strict";e.exports=require("http")},85158:e=>{"use strict";e.exports=require("http2")},41808:e=>{"use strict";e.exports=require("net")},22037:e=>{"use strict";e.exports=require("os")},71017:e=>{"use strict";e.exports=require("path")},77282:e=>{"use strict";e.exports=require("process")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},73837:e=>{"use strict";e.exports=require("util")},59796:e=>{"use strict";e.exports=require("zlib")},92623:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>d,routeModule:()=>p,tree:()=>o}),s(15156),s(53817),s(35866);var r=s(23191),a=s(88716),n=s(37922),i=s.n(n),l=s(95231),c={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>l[e]);s.d(t,c);let o=["",{children:["parent",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,15156)),"C:\\Users\\DELL\\Documents\\E-learning-1.0.0\\portal-app\\src\\app\\parent\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,53817)),"C:\\Users\\DELL\\Documents\\E-learning-1.0.0\\portal-app\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}],d=["C:\\Users\\DELL\\Documents\\E-learning-1.0.0\\portal-app\\src\\app\\parent\\page.tsx"],u="/parent/page",x={require:s,loadChunk:()=>Promise.resolve()},p=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/parent/page",pathname:"/parent",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},93372:(e,t,s)=>{Promise.resolve().then(s.bind(s,58413))},58413:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>u});var r=s(10326),a=s(64685),n=s(94001);s(76),s(90445);var i=s(17577);s(64676);var l=s(69559),c=s(53704),o=s(32067),d=s(93819);function u(){return r.jsx(a.Z,{allowed:["parent","admin"],children:r.jsx(x,{})})}function x(){let{roleInfo:e}=(0,n.a)(),[t,s]=(0,i.useState)(e?.studentId),[a,u]=(0,i.useState)(null),[x,p]=(0,i.useState)(new Date),[m,h]=(0,i.useState)({}),[g,j]=(0,i.useState)("term1"),[b,f]=(0,i.useState)(null),[N,v]=(0,i.useState)(""),[y,w]=(0,i.useState)([]),[q,k]=(0,i.useState)(!1),[S,D]=(0,i.useState)(null);async function P(e){try{k(!0),D(null);let t=e&&e.trim().length>0?`https://gutendex.com/books/?search=${encodeURIComponent(e.trim())}`:"https://gutendex.com/books/?page=1",s=await fetch(t);if(!s.ok)throw Error("Failed to load books");let r=await s.json();w((r.results||[]).slice(0,4))}catch(e){D(e.message||"Error fetching books")}finally{k(!1)}}function E(){P(N)}return t?a?!a||a.name||a.firstName?(0,r.jsxs)("div",{className:"max-w-5xl mx-auto px-6 py-12 space-y-8",children:[(0,r.jsxs)("div",{className:"card flex gap-6 items-center",children:[a.photoUrl&&r.jsx("img",{src:a.photoUrl,className:"w-24 h-24 object-cover rounded"}),(0,r.jsxs)("div",{children:[r.jsx("h2",{className:"text-xl font-semibold",children:a.name||[a.firstName,a.lastName].filter(Boolean).join(" ")}),(0,r.jsxs)("p",{className:"text-white/60 text-sm",children:["Class: ",a.class||a.classLevel||"â€”"]}),(0,r.jsxs)("p",{className:"text-white/40 text-xs",children:["ID: ",t]})]})]}),(0,r.jsxs)("div",{className:"grid md:grid-cols-3 gap-6",children:[(0,r.jsxs)("div",{className:"card md:col-span-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("button",{className:"btn outline",onClick:()=>p(e=>new Date(e.getFullYear(),e.getMonth()-1,1)),children:"<"}),r.jsx("strong",{children:(0,d.WU)(x,"MMMM yyyy")}),r.jsx("button",{className:"btn outline",onClick:()=>p(e=>new Date(e.getFullYear(),e.getMonth()+1,1)),children:">"})]}),r.jsx("div",{className:"grid grid-cols-7 gap-2 mt-2",children:(function(){let e=(0,l.N)(x),t=(0,c.V)(x);return(0,o.D)({start:e,end:t})})().map(e=>{let t=(0,d.WU)(e,"yyyy-MM-dd"),s=m[t];return r.jsx("div",{className:`h-12 rounded border text-center leading-[3rem] text-sm ${s?"bg-green-500 text-black border-green-500":"border-white/10 text-white/60"}`,children:(0,d.WU)(e,"dd")},t)})})]}),(0,r.jsxs)("div",{className:"card",children:[r.jsx("h3",{className:"font-medium mb-2",children:"Fees"}),["term1","term2","term3"].map(e=>(0,r.jsxs)("p",{className:"text-sm",children:[e.replace("term","Term "),": ",a.feeStatus?.[e]?r.jsx("span",{className:"text-green-400",children:"Paid"}):r.jsx("span",{className:"text-red-400",children:"Unpaid"})]},e))]})]}),(0,r.jsxs)("div",{className:"card",children:[r.jsx("h3",{className:"font-medium mb-2",children:"Results"}),(0,r.jsxs)("select",{value:g,onChange:e=>j(e.target.value),className:"mb-3",children:[r.jsx("option",{value:"term1",children:"Term 1"}),r.jsx("option",{value:"term2",children:"Term 2"}),r.jsx("option",{value:"term3",children:"Term 3"})]}),r.jsx("div",{className:"overflow-auto",children:(0,r.jsxs)("table",{className:"table",children:[r.jsx("thead",{children:(0,r.jsxs)("tr",{children:[r.jsx("th",{children:"Subject"}),r.jsx("th",{children:"Grade"})]})}),r.jsx("tbody",{children:b?.subjects?.length?b.subjects.map(e=>(0,r.jsxs)("tr",{children:[r.jsx("td",{children:e.name}),r.jsx("td",{children:e.grade})]},e.name)):r.jsx("tr",{children:r.jsx("td",{colSpan:2,children:"No results yet."})})})]})})]}),(0,r.jsxs)("div",{className:"card",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[r.jsx("h3",{className:"font-medium",children:"Digital Library"}),r.jsx("a",{href:"/parent/library",className:"btn primary",children:"Open Library"})]}),r.jsx("p",{className:"text-xs text-white/60 mb-3",children:"Boost your child's learning. Search and read free classic books."}),(0,r.jsxs)("div",{className:"flex gap-2 mb-4",children:[r.jsx("input",{value:N,onChange:e=>v(e.target.value),onKeyDown:e=>{"Enter"===e.key&&E()},placeholder:"Search books (e.g. science, math, history)",className:"flex-1 bg-white/5 border border-white/10 rounded px-3 py-2 text-sm focus:outline-none"}),r.jsx("button",{onClick:E,className:"btn outline",children:"Search"})]}),S&&r.jsx("p",{className:"text-red-400 text-sm mb-2",children:S}),q&&r.jsx("p",{className:"text-sm text-white/60",children:"Loading books..."}),!q&&!S&&(0,r.jsxs)("div",{className:"grid sm:grid-cols-2 md:grid-cols-4 gap-3",children:[y.map(e=>{let t=e.formats?.["image/jpeg"];return(0,r.jsxs)("div",{className:"bg-white/5 rounded p-2 flex flex-col gap-2",children:[t&&r.jsx("img",{src:t,alt:e.title,className:"h-32 w-full object-cover rounded"}),(0,r.jsxs)("div",{className:"flex-1",children:[r.jsx("p",{className:"text-xs font-medium line-clamp-2 leading-snug",children:e.title}),r.jsx("p",{className:"text-[10px] text-white/50 line-clamp-1",children:(e.authors||[]).map(e=>e.name).join(", ")||"Unknown"})]}),r.jsx("a",{href:`/parent/library?open=${e.id}`,className:"text-[10px] underline text-blue-300",children:"Read"})]},e.id)}),0===y.length&&r.jsx("p",{className:"text-sm col-span-full text-white/60",children:"No books found."})]})]})]}):(0,r.jsxs)("div",{className:"max-w-md mx-auto text-center py-20 space-y-4",children:[r.jsx("p",{className:"text-lg font-medium",children:"Student record not found."}),r.jsx("p",{className:"text-sm text-white/60",children:"Please contact the school to verify the linked student ID."})]}):r.jsx("p",{className:"text-center py-20",children:"Loading..."}):r.jsx("p",{className:"text-center py-20",children:"No student linked."})}},64685:(e,t,s)=>{"use strict";s.d(t,{Z:()=>i});var r=s(10326);s(17577);var a=s(35047),n=s(94001);function i({allowed:e,children:t}){let{loading:s,roleInfo:i,isOverrideAdmin:l}=(0,n.a)();(0,a.useRouter)();let c=i?.role||(l?"admin":null);return s?r.jsx("p",{className:"text-center py-10 text-white/80",children:"Loading..."}):c&&e.includes(c)?r.jsx(r.Fragment,{children:t}):null}},15156:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>i,__esModule:()=>n,default:()=>l});var r=s(68570);let a=(0,r.createProxy)(String.raw`C:\Users\DELL\Documents\E-learning-1.0.0\portal-app\src\app\parent\page.tsx`),{__esModule:n,$$typeof:i}=a;a.default;let l=(0,r.createProxy)(String.raw`C:\Users\DELL\Documents\E-learning-1.0.0\portal-app\src\app\parent\page.tsx#default`)}};var t=require("../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),r=t.X(0,[948,307,31,644,60],()=>s(92623));module.exports=r})();