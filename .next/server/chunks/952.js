exports.id=952,exports.ids=[952],exports.modules={59524:(e,t,s)=>{Promise.resolve().then(s.t.bind(s,12994,23)),Promise.resolve().then(s.t.bind(s,96114,23)),Promise.resolve().then(s.t.bind(s,9727,23)),Promise.resolve().then(s.t.bind(s,79671,23)),Promise.resolve().then(s.t.bind(s,41868,23)),Promise.resolve().then(s.t.bind(s,84759,23))},17404:(e,t,s)=>{Promise.resolve().then(s.bind(s,94001))},35047:(e,t,s)=>{"use strict";var r=s(77389);s.o(r,"useParams")&&s.d(t,{useParams:function(){return r.useParams}}),s.o(r,"useRouter")&&s.d(t,{useRouter:function(){return r.useRouter}}),s.o(r,"useSearchParams")&&s.d(t,{useSearchParams:function(){return r.useSearchParams}})},50286:(e,t,s)=>{"use strict";s.d(t,{Z:()=>n});var r=s(10326),l=s(17577);let a=["Mathematics","English","Science","History"];function n(){let[e,t]=(0,l.useState)(""),[s,n]=(0,l.useState)(!1),[i,o]=(0,l.useState)([]),[c,d]=(0,l.useState)(null),[m,u]=(0,l.useState)(null),[x,h]=(0,l.useState)(null),p=async e=>{n(!0),d(null);try{let t=`https://gutendex.com/books/?search=${encodeURIComponent(e)}`,s=await fetch(t);if(!s.ok)throw Error("Failed to fetch books");let r=await s.json();o(r.results||[])}catch(e){d(e.message||"Unknown error")}finally{n(!1)}},f=async e=>{n(!0),d(null);try{let t=`https://gutendex.com/books/?search=${encodeURIComponent(e)}`,s=await fetch(t);if(!s.ok)throw Error("Failed to fetch subject books");let r=await s.json();o(r.results||[]),u(e)}catch(e){d(e.message)}finally{n(!1)}},b=e=>{h(e)};return(0,r.jsxs)("div",{className:"space-y-8",children:[(0,r.jsxs)("div",{className:"flex flex-col gap-4 md:flex-row md:items-center md:justify-between",children:[(0,r.jsxs)("form",{onSubmit:t=>{t.preventDefault(),e.trim()&&(u(null),p(e.trim()))},className:"flex w-full max-w-lg gap-2",children:[r.jsx("input",{value:e,onChange:e=>t(e.target.value),placeholder:"Search title, author, subject...",className:"flex-1 px-4 py-2 rounded border border-gray-300 text-sm"}),r.jsx("button",{className:"btn",type:"submit",disabled:!e.trim()||s,children:"Search"})]}),(0,r.jsxs)("div",{className:"flex flex-wrap gap-2",children:[a.map(e=>r.jsx("button",{type:"button",onClick:()=>f(e),className:`px-3 py-1 rounded text-xs border ${m===e?"bg-primary text-white border-primary":"border-gray-300 text-gray-600 hover:bg-gray-100"}`,children:e},e)),m&&r.jsx("button",{type:"button",onClick:()=>{u(null),o([])},className:"text-xs underline text-gray-500",children:"Clear"})]})]}),c&&r.jsx("div",{className:"text-sm text-red-600",children:c}),s&&r.jsx("div",{className:"text-sm text-gray-500",children:"Loading books..."}),!s&&0===i.length&&!c&&r.jsx("div",{className:"text-sm text-gray-500",children:"No books yet. Try searching or pick a subject."}),r.jsx("div",{className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4",children:i.map(e=>{let t=e.formats["image/jpeg"],s=e.formats["text/html"],l=e.formats["application/epub+zip"],a=e.formats["application/pdf"],n=e.authors?.[0]?.name||"Unknown Author";return(0,r.jsxs)("div",{className:"rounded-lg border border-gray-200 bg-white flex flex-col overflow-hidden shadow-sm",children:[t?r.jsx("img",{src:t,alt:e.title,className:"h-40 w-full object-cover"}):r.jsx("div",{className:"h-40 w-full bg-gray-100 flex items-center justify-center text-gray-400 text-xs",children:"No Cover"}),(0,r.jsxs)("div",{className:"flex flex-col flex-1 p-4 gap-2",children:[r.jsx("h3",{className:"font-semibold text-sm line-clamp-2 leading-snug",children:e.title}),r.jsx("p",{className:"text-xs text-gray-500 line-clamp-1",children:n}),(0,r.jsxs)("div",{className:"mt-auto flex flex-wrap gap-2 pt-2",children:[s&&r.jsx("button",{type:"button",onClick:()=>b(e),className:"btn outline text-xs",children:"Read Online"}),(l||a)&&r.jsx("a",{href:l||a,target:"_blank",rel:"noopener noreferrer",className:"btn outline text-xs",children:"Download"})]})]})]},e.id)})}),x&&r.jsx("div",{className:"fixed inset-0 z-50 bg-black/60 backdrop-blur-sm flex items-center justify-center p-4",children:(0,r.jsxs)("div",{className:"bg-white w-full max-w-5xl rounded-lg shadow-lg flex flex-col max-h-[90vh]",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between px-4 py-2 border-b",children:[(0,r.jsxs)("div",{className:"flex flex-col",children:[r.jsx("span",{className:"font-semibold text-sm",children:x.title}),r.jsx("span",{className:"text-xs text-gray-500",children:x.authors?.[0]?.name||"Unknown Author"})]}),r.jsx("button",{onClick:()=>h(null),className:"text-xs px-2 py-1 rounded bg-gray-100 hover:bg-gray-200",children:"Close"})]}),r.jsx("div",{className:"flex-1 overflow-auto",children:x.formats["text/html"]?r.jsx("iframe",{src:x.formats["text/html"],title:x.title,className:"w-full h-[70vh]"}):r.jsx("div",{className:"p-6 text-sm",children:"No embeddable HTML version available for this title."})})]})})]})}},94001:(e,t,s)=>{"use strict";s.d(t,{AuthProvider:()=>c,a:()=>d});var r=s(10326),l=s(17577),a=s(46791),n=s(76),i=s(90445);let o=(0,l.createContext)({user:null,loading:!0,roleInfo:null,logout:async()=>{},isOverrideAdmin:!1,enableAdminOverride:()=>{}}),c=({children:e})=>{let[t,s]=(0,l.useState)(null),[c,d]=(0,l.useState)(!0),[m,u]=(0,l.useState)(null),[x,h]=(0,l.useState)(!1);async function p(){i.I.currentUser&&await (0,a.w7)(i.I)}return(0,l.useEffect)(()=>{let e=(0,a.Aj)(i.I,async e=>{if(s(e),e){let t=(0,n.JU)(i.db,"users",e.uid),s=await (0,n.QT)(t);if(s.exists()){let e=s.data();u({role:e.role,studentId:e.studentId,classLevels:e.classLevels})}else u(null)}else u(null);d(!1)});return()=>e()},[]),r.jsx(o.Provider,{value:{user:t,loading:c,roleInfo:m||(x?{role:"admin"}:null),logout:p,isOverrideAdmin:x,enableAdminOverride:function(){h(!0),u({role:"admin"})}},children:e})},d=()=>(0,l.useContext)(o)},90445:(e,t,s)=>{"use strict";let r;s.d(t,{I:()=>d,db:()=>x});var l=s(42585),a=s(46791),n=s(76),i=s(11552);let o={apiKey:process.env.NEXT_PUBLIC_FIREBASE_API_KEY||"AIzaSyD239JqpspNL_KN7-buMq2PTWUM5P0D5YA",authDomain:process.env.NEXT_PUBLIC_FIREBASE_AUTH_DOMAIN||"milliniem-86b63.firebaseapp.com",projectId:process.env.NEXT_PUBLIC_FIREBASE_PROJECT_ID||"milliniem-86b63",storageBucket:process.env.NEXT_PUBLIC_FIREBASE_STORAGE_BUCKET||"milliniem-86b63.appspot.com",messagingSenderId:process.env.NEXT_PUBLIC_FIREBASE_MESSAGING_SENDER_ID||"455693438371",appId:process.env.NEXT_PUBLIC_FIREBASE_APP_ID||"1:455693438371:web:0a64c5c007cb906e241e16",measurementId:process.env.NEXT_PUBLIC_FIREBASE_MEASUREMENT_ID||"G-KHHJRMKW9V"},c=(0,l.C6)().length?(0,l.C6)()[0]:(0,l.ZF)(o),d=(0,a.v0)(c),m="true"===process.env.NEXT_PUBLIC_FIRESTORE_FORCE_LONG_POLLING,u="true"===process.env.NEXT_PUBLIC_FIRESTORE_AUTODETECT_STREAMING;try{m||u?(r=(0,n.LV)(c,{experimentalForceLongPolling:m,experimentalAutoDetectLongPolling:u}),console.log("[firebase] Firestore initialized with options",{forceLongPolling:m,autoDetect:u})):r=(0,n.ad)(c)}catch(e){console.error("[firebase] Firestore init error, falling back to default",e),r=(0,n.ad)(c)}let x=r;(0,i.cF)(c)},53817:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>d,metadata:()=>c});var r=s(19510);s(5023),s(71159);var l=s(68570);let a=(0,l.createProxy)(String.raw`C:\Users\DELL\Documents\E-learning-1.0.0\portal-app\src\contexts\AuthContext.tsx`),{__esModule:n,$$typeof:i}=a;a.default;let o=(0,l.createProxy)(String.raw`C:\Users\DELL\Documents\E-learning-1.0.0\portal-app\src\contexts\AuthContext.tsx#AuthProvider`);(0,l.createProxy)(String.raw`C:\Users\DELL\Documents\E-learning-1.0.0\portal-app\src\contexts\AuthContext.tsx#useAuth`);let c={title:"Millenium Portal"};function d({children:e}){return(0,r.jsxs)("html",{lang:"en",children:[r.jsx("head",{children:r.jsx("link",{rel:"stylesheet",href:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css",integrity:"sha512-Avb2QiuDEEvB4bZJYdft2mNjVShBftLdPG8FJ0V7irTLQ8Uo0qcPxh4Plq7G5tGm0rU+1SPhVotteLpBERwTkw==",crossOrigin:"anonymous",referrerPolicy:"no-referrer"})}),r.jsx("body",{className:"min-h-screen bg-slateGray",children:(0,r.jsxs)(o,{children:[r.jsx("main",{children:e}),r.jsx("footer",{className:"bg-white border-t border-gray-200 mt-20 py-10",children:(0,r.jsxs)("div",{className:"portal-container text-center text-sm text-grey",children:["\xa9 ",new Date().getFullYear()," Millenium School Portal. All rights reserved."]})})]})})]})}},5023:()=>{}};